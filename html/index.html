<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Insert title here</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script type="text/javascript">
	$(document).ready(function() {
		$("#math").click(function(event) {
			// Prevent the form from submitting via the browser
			ajaxPost();
		});
		function ajaxPost() {
			var value = {
					"val1":$("#firstValue").val(),
					"val2":$("#secondValue").val()	
				};
			$.ajax({
				type : "POST",
		        contentType : 'application/json',
		        dataType : 'json',
		        url : "http://localhost:8080/calculator/"+$("#comboBox").val(),
		        data : JSON.stringify(value),
				
				success : function(result) {
					$("#result").html(result);
					
					  //alert('Ok');
				      //console.log(result);
					},
				 error : function(e) {
					 $("#result").html('');
					 //alert('No'+ value);
					 //console.log(result);
				 }
			});
		}
	});
	function isNumberKey(evt) {
        var charCode = (evt.which) ? evt.which : event.keyCode
        if (charCode > 31 && (charCode < 48 || charCode > 57) && charCode != 46)
            return false;
        else {
            var len = document.getElementById("firstValue").value.length;
            var index = document.getElementById("firstValue").value.indexOf('.');
            
            if (index > 0 && charCode == 46) {
                return false;
            }
            if (index > 0) {
                var CharAfterdot = (len + 1) - index;
                if (CharAfterdot > 3) {
                    return false;
                }
            }

        }
        return true;
     }
	</script>
</head>
<body>
	<form>
		<label>First Value</label> <input type="text" onkeypress="return isNumberKey(event)" name="firstValue" id="firstValue" />
		 <label>Second Value</label> <input type="text" onkeypress="return isNumberKey(event)" name="secondValue" id="secondValue" /> <select name="comboBox"
			id="comboBox">
			<option value="sum">Summation</option>
			<option value="sub">Subtraction</option>
			<option value="div">Division</option>
			<option value="multi">Multiplication</option>
		</select>		
		<button type="button" id="math">Send</button><br><br>
		<label>Result:</label><label id='result'></label>
	</form>
<div id="postResultDiv"></div>
</body>

</html>